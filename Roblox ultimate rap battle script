-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Create Frame
local frame = Instance.new("Frame")
frame.Parent = screenGui
frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
frame.Size = UDim2.new(0, 200, 0, 320)
frame.Position = UDim2.new(0.5, -100, 0.5, -160)
frame.Active = true
frame.Draggable = true

-- Create Buttons
local speakButton = Instance.new("TextButton")
speakButton.Parent = frame
speakButton.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
speakButton.Size = UDim2.new(0, 60, 0, 30)
speakButton.Position = UDim2.new(0, 20, 0, 20)
speakButton.Text = "Speak"
speakButton.TextScaled = true

local copyButton = Instance.new("TextButton")
copyButton.Parent = frame
copyButton.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
copyButton.Size = UDim2.new(0, 60, 0, 30)
copyButton.Position = UDim2.new(0, 120, 0, 20)
copyButton.Text = "Copy"
copyButton.TextScaled = true

local beNiceButton = Instance.new("TextButton")
beNiceButton.Parent = frame
beNiceButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
beNiceButton.Size = UDim2.new(0, 60, 0, 30)
beNiceButton.Position = UDim2.new(0, 20, 0, 60)
beNiceButton.Text = "Be nice?"
beNiceButton.TextScaled = true

local momButton = Instance.new("TextButton")
momButton.Parent = frame
momButton.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
momButton.Size = UDim2.new(0, 60, 0, 30)
momButton.Position = UDim2.new(0, 120, 0, 60)
momButton.Text = "Female rizz"
momButton.TextScaled = true

local dadButton = Instance.new("TextButton")
dadButton.Parent = frame
dadButton.BackgroundColor3 = Color3.fromRGB(135, 206, 250)
dadButton.Size = UDim2.new(0, 60, 0, 30)
dadButton.Position = UDim2.new(0, 20, 0, 100)
dadButton.Text = "Male rizz"
dadButton.TextScaled = true

local silentButton = Instance.new("TextButton")
silentButton.Parent = frame
silentButton.BackgroundColor3 = Color3.fromRGB(211, 211, 211)
silentButton.Size = UDim2.new(0, 60, 0, 30)
silentButton.Position = UDim2.new(0, 120, 0, 100)
silentButton.Text = "Silent"
silentButton.TextScaled = true

local copyPasteButton = Instance.new("TextButton")
copyPasteButton.Parent = frame
copyPasteButton.BackgroundColor3 = Color3.fromRGB(173, 216, 230)
copyPasteButton.Size = UDim2.new(0, 60, 0, 30)
copyPasteButton.Position = UDim2.new(0, 20, 0, 140)
copyPasteButton.Text = "Copy&Paste"
copyPasteButton.TextScaled = true

local languageBarrierButton = Instance.new("TextButton")
languageBarrierButton.Parent = frame
languageBarrierButton.BackgroundColor3 = Color3.fromRGB(240, 128, 128)
languageBarrierButton.Size = UDim2.new(0, 60, 0, 30)
languageBarrierButton.Position = UDim2.new(0, 120, 0, 140)
languageBarrierButton.Text = "Language Barrier"
languageBarrierButton.TextScaled = true

local roastButton = Instance.new("TextButton")
roastButton.Parent = frame
roastButton.BackgroundColor3 = Color3.fromRGB(255, 69, 0)
roastButton.Size = UDim2.new(0, 160, 0, 30)
roastButton.Position = UDim2.new(0, 20, 0, 180)
roastButton.Text = "Impressive!"
roastButton.TextScaled = true

local destroyButton = Instance.new("TextButton")
destroyButton.Parent = frame
destroyButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
destroyButton.Size = UDim2.new(0, 160, 0, 30)
destroyButton.Position = UDim2.new(0, 20, 0, 260)
destroyButton.Text = "Destroy"
destroyButton.TextScaled = true

-- Lists of phrases and cooldown tracker
local phrases = {

}

local nicePhrases = {

}
local momPhrases = {

}
local dadPhrases = {

}
local silentPhrases = {

}
local copyPastePhrases = {

}
local languageBarrierPhrases = {

}
local roastPhrases = {

}

local cooldowns = {}
local sentMessages = {} -- Track sent messages and their timestamps

-- Initialize cooldown tracker
for _, phrase in ipairs(phrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(nicePhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(momPhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(dadPhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(silentPhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(copyPastePhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(languageBarrierPhrases) do cooldowns[phrase] = 0 end
for _, phrase in ipairs(roastPhrases) do cooldowns[phrase] = 0 end

-- Function to get a random non-duplicate phrase with cooldown
local function getRandomPhrase(phraseList)
    local availablePhrases = {}
    local currentTime = tick()

    for _, phrase in ipairs(phraseList) do
        if currentTime - cooldowns[phrase] >= 3600 then
            if not sentMessages[phrase] or currentTime - sentMessages[phrase] >= 3600 then
                table.insert(availablePhrases, phrase)
            end
        end
    end

    if #availablePhrases == 0 then return nil end

    local selectedPhrase = availablePhrases[math.random(1, #availablePhrases)]
    cooldowns[selectedPhrase] = currentTime
    sentMessages[selectedPhrase] = currentTime
    return selectedPhrase
end

-- Button Functions
speakButton.MouseButton1Click:Connect(function()
    local randomPhrase = getRandomPhrase(phrases)
    if randomPhrase then
        game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(randomPhrase, "All")
    end
end)

copyButton.MouseButton1Click:Connect(function()
    local randomPhrase = getRandomPhrase(phrases)
    if randomPhrase then
        setclipboard(randomPhrase) -- Copies the phrase to the clipboard
    end
end)

beNiceButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(nicePhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected nice phrase to the clipboard
    end
end)

momButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(momPhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected mom phrase to the clipboard
    end
end)

dadButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(dadPhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected dad phrase to the clipboard
    end
end)

silentButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(silentPhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected silent phrase to the clipboard
    end
end)

copyPasteButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(copyPastePhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected copy-paste phrase to the clipboard
    end
end)

languageBarrierButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(languageBarrierPhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected language barrier phrase to the clipboard
    end
end)

roastButton.MouseButton1Click:Connect(function()
    local selectedPhrase = getRandomPhrase(roastPhrases)
    if selectedPhrase then
        setclipboard(selectedPhrase) -- Copies the selected roast phrase to the clipboard
    end
end)

destroyButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)
